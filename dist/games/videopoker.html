<!DOCTYPE html>
<html>
	<head>
		<script src="../javascripts/lib/Loader.js"></script>
		<script src="../javascripts/games/videopoker.js"></script>
		<style>
			/*********************************************/
			/******** TITLE AND FEATURES *****************/
			/*********************************************/
			#Title {
				padding: 20px 0px 20px 0px;
				background: white;
				text-align: center;
			}
				#Title .sup {
					font-size: 180%;
					text-shadow: 0px 0px 5px #AAB;
				}
				body.loaded #Title .sup {
					letter-spacing: .20em;
					text-shadow: 0px 0px 5px blue;
					transition: letter-spacing 3s ease-out, text-shadow 3s ease-out;
				}
				#Title .sub {
					font-size: 90%;
				}
				body.loaded #Title .sub {
					letter-spacing: .2em;
					transition: letter-spacing 3s ease-out;
				}

			.featureBox {
				box-sizing: border-box;
				width: 100%;
				display: table;
				background: linear-gradient(to bottom, #AAB 0%, #22A 100%);
				padding: 15px 0px;
				margin: 0px;
			}
			.featureBox > .left {
				display: table-cell;
				vertical-align: top;
				padding-left: 40px;
				width: 33%;
			}
			.featureBox > .middle {
				display: table-cell;
				vertical-align: top;
				width: 33%;
			}
			.featureBox > .right {
				display: table-cell;
				vertical-align: top;
				width: 33%;
			}
			.featureBox .block {
				display: inline-block;
				margin: 0px 40px;
				text-shadow: 1px 1px 1px rgba(255,255,255,.4);
			}
			.featureBox .title {
				text-align: center;
				font-weight: bold;
				font-size: 180%;
				color: #FAFAFA;
				letter-spacing: .1em;
				padding-bottom: 4px;
				text-shadow: 0px 0px 10px blue;
			}
			.featureBox .feature {
				display: inline-block;
				font-size: 90%;
				margin: 4px 0px;
				font-weight: bold;

			}
			.featureBox .tipLeft::before {
				background: rgba(0,0,0,.1);
			}

			.featureBox .stats {
				text-align: center;
				margin-top: 20px;
				white-space: nowrap;
			}
			.featureBox .stats .stat {
				display: inline-block;
				text-align: center;
				padding: 3px 5px;
				border-radius: 5px;
				background: rgba(200,200,200,.5);
				border: 1px inset rgba(200,200,200,.5);
			}
			.featureBox .stats .stat .value {
				font-size: 120%;
				color: blue;
				margin-bottom: -5px;
				text-shadow: 0px 0px 5px white;
			}
			.featureBox .stats .stat .label {
				display: inline-block;
				font-size: 70%;
				color: #444;
			}
			.featureBox .stats .wagered {
				margin-left: 50px;
				margin-right: 50px;
			}

			.cardStr.club, .cardStr.spade {
				color: rgba(0,0,0,.7);
			}
			.cardStr.heart, .cardStr.diamond {
				color: rgba(255,0,0,.7);
			}
		</style>
	</head>
	<body>
	<div id="Content">
		<div id="Summary">
			<div id="Title">
				<div class="sup">Video Poker</div>
				<div class="sub">the world's first blockchain video poker</div>
			</div>
			<div class="featureBox">
				<div class="left">
					<div class="block">
						<div class="title">Fast</div>
						<div class="feature tipLeft" title="No need to deposit Ether or fill out any forms.">
							No deposit, no sign-up
						</div><br>
						<div class="feature tipLeft" title="See your initial hand as soon as your transaction is mined. See your final hand as soon as you submit your draws.">
							Fast Gameplay
						</div><br>
						<div class="feature tipLeft" title="Our UI shows you what's happening every step of the way.">
							Responsive UI
						</div>
					</div>
				</div>
				<div class="middle">
					<div class="block">
						<div class="title">Fair</div>
						<div class="feature tipLeft" title="Our random numbers come from the blockchain, not from a third party.">
							Results based on blockhash
						</div><br>
						<div class="feature tipLeft" title="You can read over our fully annotated source code.">
							Fully transparent contract
						</div>
					</div>
					<div class="stats">
						<div class="stat games">
							<div class="value">0</div>
							<div class="label">games</div>
						</div>
						<div class="stat wagered">
							<div class="value">0</div>
							<div class="label">ETH wagered</div>
						</div>
						<div class="stat won">
							<div class="value">0</div>
							<div class="label">ETH won</div>
						</div>
					</div>
				</div>
				<div class="right">
					<div class="block">
						<div class="title">The Best</div>
						<div class="feature tipLeft" title="Our pay table provides over 99% returns when played optimally.">
							Generous Payoffs
						</div><br>
						<div class="feature tipLeft" title="View your initial hand as soon as your bet gets mined. View your results after your draws are mined.">
							The fastest results
						</div><br>
						<div class="feature tipLeft" title="We strive to keep the gas cost low. For repeat players, a full game is typically under 100,000 gas!">
							Low gas costs
						</div><br>
					</div>
				</div>
			</div>

			<style>
				#Machine {
					margin: 50px 10px;
					border: 1px solid black;
					overflow: hidden;
					border-radius: 15px;
				}
				#Machine .header {
					background: linear-gradient(to top, rgba(0,0,0,.8) 0%, rgba(0,0,0,.6) 100%);
				}
				.credits-cell {
					vertical-align: middle;
					padding: 10px;
					border-left: 1px dotted rgba(0,0,0,.5);
				}
				.credits-ctnr {
					box-sizing: border-box;
					width: 250px;
					text-align: center;
					color: white;
				}

				.Tabber {
					padding: 5px 10px;
				}
				.Tabber .tab {
					display: inline-block;
					vertical-align: bottom;
					position: relative;
					box-sizing: border-box;
					white-space: nowrap;
					width: 155px;
					margin: 5px;
					overflow: hidden;
					font-size: 80%;
					text-align: center;
					color: white;
					border-radius: 3px;
					user-select: none;
					cursor: pointer;

					opacity: .5;
					border: 1px solid #555;
					transition: opacity .3s, box-shadow .3s, border .3s, width .2s, opacity .2s;
				}
				.Tabber .tab.new {
					border: 1px solid rgb(100,100,100);
					padding: 4px 6px;
					background: #111;
				}
				.Tabber .tab:hover {
					opacity: .7;
				}
				.Tabber .tab.selected {
					box-shadow: 3px 3px 3px 0px rgba(0,0,0,.3);
					border: 1px solid gray;
					opacity: .9;
				}
				.Tabber .tab.shrunken {
					width: 0px;
					opacity: .1;
				}

				.Tabber .tab .remove {
					position: absolute;
					top: 3px;
					right: 3px;
					width: 12px;
					height: 12px;
					padding-top: 1px;
					padding-left: 1px;
					line-height: 11px;
					font-size: 10px;
					border-radius: 20px;
					background: rgba(255,128,128,.5);
					color: rgba(255,255,255,.5);
					transition: background .3s, color .3s;
				}
				.Tabber .tab .remove:hover {
					color: rgba(255,255,255,.8);
					background: rgba(255,0,0,.7);
				}
				
				.Tabber .tab > .title {
					padding: 2px 4px;
					border-bottom: 1px dotted rgba(0,0,0,.1);
					background: #222;
					color: #CCC;
					transition: background .3s, color .3s;
				}
				.Tabber .tab.selected > .title {
					background: black;
					color: #DDD;
				}

				.Tabber .mini-status {
					position: relative;
					color: #999;
					background: radial-gradient(rgba(0,0,255,1) 0%, rgba(0,0,128,.5) 100%);
					transition: opacity .3s;
				}
					.Tabber .mini-status .state {
						position: absolute;
						text-transform: uppercase;
						letter-spacing: .1em;
						top: 1px;
						left: 4px;
						transition: color .3s;
					}
					.Tabber .mini-status.winner .state {
						color: lime;
					}
					.Tabber .mini-status .bet {
						position: absolute;
						top: 1px;
						right: 4px;
						color: green;
					}
					.Tabber .mini-status .HandDisplay {
						margin-top: 10px;
						font-size: 50%;
						opacity: .8;
					}
					.Tabber .mini-status .HandDisplay .card-ctnr {
						height: 32px;
						width: 23px;
						margin: 0px 2px;
					}
						.Tabber .mini-status .HandDisplay .card {
							border-radius: 3px;
						}
						.Tabber .mini-status .HandDisplay .card .heldIcon {
							display: none;
						}
						.Tabber .mini-status .HandDisplay .card .suit {
							display: none;
						}
						.Tabber .mini-status .HandDisplay .card .corner {
							margin-top: -3px;
							margin-left: -4px;
						}
					.Tabber .mini-status .HandDisplay .hand-rank {
						padding: 0px 4px;
						color: white;
					}
						

					.Tabber .mini-status .bottom {
						position: relative;
						margin-top: 8px;
					}
						.Tabber .mini-status .status {
							position: relative;
							z-index: 2;
							padding-top: 1px;
							padding-bottom: 2px;
							color: black;
							background: rgba(255, 255, 255, .5);
						}
						.Tabber .mini-status .loading {
							position: absolute;
							z-index: 1;
						    top: 0px;
						    left: 0;
						    width: 100%;
						    height: 100%;
						}
							.Tabber .mini-status .loading .LoadingBar {
								margin: 0px;
								height: 100%;
								border: none;
							}
							.Tabber .mini-status .loading .LoadingBar .loaded {
								height: 100%;
								background: green;
								box-shadow: none;
							}
							.Tabber .mini-status .loading.error .LoadingBar .loaded {
								background: red;
							}
							
			</style>
			<div id="Machine">
				<div class="header">
					<table cellpadding="0" cellspacing="0"><tr>
						<td width="100%"><div class="tabber-ctnr"></div></td>
						<td class="credits-cell">
							<div class="credits-ctnr">Credits: 1000 ETH</div>
							<div style="display: table; width: 100%;">
								<div style="display: table-cell; width: 50%; text-align: center;">
									<button>Add Credits</button>
								</div>
								<div style="display: table-cell; width: 50%; text-align: center;">
									<button>Cash Out</button>
								</div>
						</td>
					</tr></table>
				</div>
				<div class="game-ctnr" style="background: black;"></div>
			</div>
		</div>

		<style>
			.Game {
				padding: 20px 0px;
				border-top: 1px solid black;
				background: radial-gradient(rgba(10,10,230,1) 0%, rgba(0,0,128,1) 100%);
				opacity: .7;
				transition: opacity .5s;
			}
			.Game.shown {
				opacity: 1;
			}

			.Game .titleBar {
				color: #EEE;
				text-transform: uppercase;
				font-size: 80%;
				letter-spacing: .3em;
				margin-bottom: 10px;
				text-shadow: 1px 1px 1px black;
				overflow: hidden;
				text-align: center;
			}
			.Game .titleBar:before,
			.Game .titleBar:after {
				position: relative;
				display: inline-block;
				vertical-align: middle;
				width: 50%;
				top: -1px;
				height: 1px;
				border-top: 1px solid rgba(255,255,255,.3);
				content: "";
			}
			.Game .titleBar:before {
			  right: 0.2em;
			  margin-left: -50%;
			}
			.Game .titleBar:after {
			  left: 0.2em;
			  margin-right: -50%;
			}


			.Game .payTable {
				font-size: 90%;
				border-radius: 5px;
				overflow: hidden;
			}
			.Game .payTable tr:first-child {
				font-weight: bold;
				color: #333;
				font-variant: small-caps;
				/*text-decoration: underline;*/
			}
			.Game .payTable tr:nth-child(even) {
				background: rgba(255,255,255,.6);
			}
			.Game .payTable tr:nth-child(odd) {
				background: rgba(255,255,255,.55);
			}

			.Game .payTable td {
				padding: 3px 0px;
				transition: background 1s, color 1s, border 1s, text-shadow 1s;
			}
			.Game .payTable td:first-child {
				padding-left: 5px;
			}
			.Game .payTable td:not(:first-child) {
				text-align: right;
				padding-right: 7px;
				border-left: 1px solid rgba(0,0,0,.1);
			}
			.Game .payTable td:nth-child(3) {
				/*background: rgba(0,128,255,.15);*/
				/*font-weight: bold;*/
				text-shadow: 0px 0px 2px rgba(255,255,255,1);
			}
			.Game .payTable tr.won td {
				color: white;
				background: rgba(0,128,0,.8);
				text-shadow: 0px 0px 5px lime;
				border: none;
				border-top: 1px solid rgba(0,255,0,.3);
				border-bottom: 1px solid rgba(0,255,0,.3);
			}

			.Game .gameStatus {
				position: relative;
				background: rgba(255,255,255,.9);
				border-radius: 3px;
				box-shadow: 2px 2px 4px 0px rgba(0,0,0,.5);
				overflow: hidden;
			}
				.Game .gameStatus .details {
					border-bottom: 1px solid rgba(0,0,0,.1);
					font-size: 70%;
				}
				.Game .gameStatus .details .gameBet {
					padding: 2px 5px;
					display: inline-block;
					font-weight: bold;
				}
				.Game .gameStatus .details .gameId {
					padding: 2px 5px;
					display: inline-block;
					position: absolute;
					right: 0px;
				}
				.Game .gameStatus .msg {
					padding: 10px 10px;
					text-align: center;
					transition: text-shadow .5s, box-shadow .5s, background .5s;
				}
				.Game.isWinner .gameStatus .msg {
					font-weight: bold;
					text-shadow: 0px 0px 5px white;
					box-shadow: inset 0px 0px 15px 3px green;
					background: rgba(0,200,0,.3);
				}
				.Game .gameStatus .required {
					padding: 2px 0px 4px 0px;
					border-top: 1px solid rgba(0,0,0,.1);
					background: rgba(255,255,0,.15);
					font-size: 80%;
					color: gray;
					text-align: center;
				}

				
			.Game .actionArea {
				background: linear-gradient(to top, rgba(250,250,250,.2) 0%, rgba(250,250,250,.3) 100%);
				border-radius: 4px;
				padding: 10px 0px;
				margin-top: 15px;
				box-shadow: 2px 2px 4px 0px rgba(0,0,0,.5);
			}
			.Game .actionFooter {
				margin-top: 10px;
				padding-top: 10px;
				border-top: 1px dotted rgba(255,255,255,.1);
				text-align: center;
			}
			.Game .statusArea {
				display: none;
				padding: 0px 10px;
			}
			.Game .statusArea .TxStatus {
				font-size: 80%;
				border-radius: 3px;
				background: rgba(255,255,255,.5);
			}
			.Game .actionBtn {
				font-size: 120%;
				padding: 5px 20px;
				margin: 0px 10px;
				white-space: nowrap;
				letter-spacing: .1em;
				border-radius: 5px;
				cursor: pointer;
				color: white;
				background: blue;
				transition: color .5s, background .5s, opacity .5s;
			}
			.Game .actionBtn.disabled {
				cursor: not-allowed;
				color: #DDD;
				background: #888;
				opacity: .9;
			}

			.Better {
				display: table;
				box-sizing: border-box;
				width: 100%;
			}
				.Better .value {
					display: table-cell;
					text-align: center;
				}
					.Better .topLabel {
						color: black;
						text-transform: uppercase;
						letter-spacing: .1em;
						width: 140px;
						font-size: 100%;
						font-weight: bold;
						text-align: center;
					}
					.Better .bottomLabel {
						font-size: 80%;
						color: black;
					}
					.Better .betTxt {
						display: block;
						box-sizing: border-box;
						width: 100%;
						background: transparent;
						padding: 0px 0px 0px 15px;
						text-align: center;
						font-size: 300%;
						border: none;
						color: lime;
						margin-top: -5px;
						margin-bottom: -5px;
					}
					.Better .betTxt:focus {
						outline: none;
					}
				.Better .slider {
					position: relative;
					display: table-cell;
					vertical-align: middle;
					width: 100%;
				}
					.Better .betSlider {
						width: 92%;
						height: 40px;
						cursor: pointer;
					}
					.Better .betErr {
						position: absolute;
						bottom: 5px;
						width: 92%;
						font-size: 80%;
						color: yellow;
						text-shadow: 1px 1px 0px rgba(0,0,0,.5);
						letter-spacing: .1em;
						text-align: center;
					}

			.Game .hand-ctnr {
				padding: 0px 15px;
				margin: 30px 0px 0px 0px;
			}
			
			.HandDisplay {
				position: relative;
				text-align: center;
				user-select: none;
			}
			.HandDisplay .hand-rank {
				position: absolute;
				bottom: 14%;
				left: 50%;
				transform: translateX(-50%);
				padding: 5px 20px;

				font-size: 200%;
				font-variant: small-caps;
				color: white;
				border: 1px solid black;
				background: rgba(100, 100, 100, 1);
				box-shadow: inset 0px 0px 10px black, 3px 3px 5px 0px rgba(0,0,0,.6);

				opacity: 0;
				transition: opacity .5s;
			}
			.HandDisplay .hand-rank.winner {
				background: green;
				border: 1px solid green;
				text-shadow: 0px 0px 8px lime;
				box-shadow: inset 0px 0px 15px 3px lime, 3px 3px 5px 0px rgba(0,0,0,.6);
				color: white;
				letter-spacing: .1em;
			}
			.HandDisplay .hand-rank.show {
				z-index: 3;
				opacity: .95;
			}

			.HandDisplay .card-ctnr {
				display: inline-block;
				height: 168px;
				width: 120px;
				margin: 0px 10px;
				perspective: 1000px;
			}
			
			.HandDisplay .card {
				position: relative;
				box-sizing: border-box;
				width: 100%;
				height: 100%;
				border: 1px solid black;
				border-radius: 10px;
				cursor: pointer;
				transform-style: preserve-3d;
				transition: 0.4s;
			}
				.HandDisplay.frozen .card { cursor: default; }
				.HandDisplay .card.show { transform: rotateY(180deg); }
				.HandDisplay .card.held { border: 1px solid black; }

				/* front and back styles */
				.HandDisplay .card .back,
				.HandDisplay .card .face {
					position: absolute;
					top: 0;
					left: 0;
					width: 100%;
					height: 100%;
					border-radius: inherit;
					backface-visibility: hidden;
				}
				.HandDisplay .card .back {
					z-index: 2;
					transform: rotateY(0deg);
					background: linear-gradient(135deg, rgb(100,50,50) 0%, rgb(80,40,40) 100%);
				}
				.HandDisplay .card .face {
					transform: rotateY(180deg);
					background: linear-gradient(135deg, rgb(240,240,240) 0%, rgb(180,180,180) 100%);
				}
				.HandDisplay .card.hilited .face {
					background: linear-gradient(135deg, rgb(225, 255, 225) 0%, rgb(0, 200, 0) 100%);
				}
					.HandDisplay .card .heldIcon {
						position: absolute;
						left: 0;
						right: 0;
						width: 80%;
						margin: auto;
						top: 50%;
    					transform: translateY(-50%);

						color: white;
						text-align: center;
						background: rgba(0,105,165,.8);
						font-size: 90%;
						padding: 3px;
						border-radius: 5px;
						letter-spacing: .2em;
						
						opacity: 0;
						transition: opacity .2s;
					}
					.HandDisplay .card.held .heldIcon {
						opacity: 1;
					}
					.HandDisplay .card .cardIcon .corner {
						position: relative;
						padding: 5px;
						text-align: left;
						line-height: 1em;
						font-size: 180%;
					}
					.HandDisplay .card .cardIcon .suit {
						position: absolute;
						font-size: 400%;
						left: 0;
						right: 0;
						margin: 0 auto;
						top: 50%;
    					transform: translateY(-50%);
					}

				.HandDisplay .card .cardIcon.heart,
				.HandDisplay .card .cardIcon.diamond { color: red; }
				.HandDisplay .card .cardIcon.spade,
				.HandDisplay .card .cardIcon.club { color: black; }
		</style>
		<div class="Game template" style="display: none;">
			<div class="top">
				<table width="100%" style="box-sizing: border-box;" cellspacing="0" cellpadding=""><tr>
					<td width="50%" style="padding: 0px 15px" valign="top">
						<div class="titleBar">
							Pay Table
						</div>
						<table class="payTable" cellpadding="0" cellspacing="0" width="100%">
							<tr>
								<td>Hand</td>
								<td>&nbsp;&nbsp;&nbsp;Payout</td>
								<td>Payout (for 0.250 ETH bet)</td>
							</tr>
							<tr>
								<td>Royal Flush<span class="dots"></span></td>
								<td>400 x</td>
								<td>400 ETH</td>
							</tr>
							<tr>
								<td>Straight Flush</td>
								<td>50 x</td>
								<td>50 ETH</td>
							</tr>
							<tr>
								<td>Four of a Kind</td>
								<td>25 x</td>
								<td>25 ETH</td>
							</tr>
							<tr>
								<td>Full House</td>
								<td>9 x</td>
								<td>9 ETH</td>
							</tr>
							<tr>
								<td>Flush</td>
								<td>6 x</td>
								<td>6 ETH</td>
							</tr>
							<tr>
								<td>Straight</td>
								<td>4 x</td>
								<td>4 ETH</td>
							</tr>
							<tr>
								<td>Three of a Kind</td>
								<td>3 x</td>
								<td>3 ETH</td>
							</tr>
							<tr>
								<td>Two Pair</td>
								<td>2 x</td>
								<td>2 ETH</td>
							</tr>
							<tr>
								<td>Jacks or Better</td>
								<td>1 x</td>
								<td>1 ETH</td>
							</tr>
						</table>
					</td>
					<td width="50%" valign="top" style="padding: 0px 15px;" valign="top">
						<div class="titleBar">
							Status
						</div>
						<div class="gameStatus">
							<div class="details">
								<div class="gameBet">Current Bet: .25 ETH</div>
								<div class="gameId">Game #12312</div>
							</div>
							<div class="msg">
								Initial hand dealt.<br>Select cards to hold, and click "Draw"
							</div>
							<div class="required">You have 255 blocks (1hr 5m) to take action.</div>
						</div>
						<div class="invalid actionArea" style="text-align: center;">
							This game is no longer active. This may be due to the game being completed in another tab, or due to a blockchain re-org.
						</div>
						<div class="bet actionArea">
							<div class="actionFooter">
								<table width="100%"><tr>
									<td class="statusArea" width=100%></td>
									<td align="center">
										<button class="actionBtn btnDeal" data-txt-default="Deal" data-txt-pending="Dealing..." data-txt-success="Dealt!"></button>
									</td>
								</tr></table>
							</div>
						</div>
						<div class="draw actionArea">
							<table width="100%"><tr>
								<td class="statusArea" width=100%></td>
								<td align="center">
									<button class="actionBtn btnDraw" data-txt-default="Draw 5 Cards" data-txt-pending="Drawing..." data-txt-success="Drawn!"></button>
								</td>
							</tr></table>
						</div>
						<div class="finalizeLoss actionArea">
							<div style="text-align: center;">
								<button class="actionBtn btnPlayAgain" data-txt-default="Play Again"></button>
							</div>
						</div>
						<div class="finalizeWin actionArea">
							<table width="100%"><tr>
								<td class="statusArea" width=100%></td>
								<td align="center">
									<button class="actionBtn btnFinalize" data-txt-default="Get Credits" data-txt-pending="Crediting..." data-txt-success="Credited!"></button>
									<br>
									<label class="tipRight dontTip playAgain" title="By checking this, some or all of your winnings will be used to play another hand."><input type=checkbox checked> and play another hand</label>
								</td>
							</tr></table>
						</div>
						<div class="finalized actionArea">
							<div style="text-align: center;">
								<button class="actionBtn btnPlayAgain" data-txt-default="Play Again"></button>
							</div>
						</div>
					</td>
				</tr></table>
			</div>
			<div class="hand-ctnr">
				<div class="titleBar">
					Cards
				</div>
			</div>
			<div class="mini-status">
				<div>&nbsp;</div>
				<div class="bet"></div>
				<div class="state"></div>
				<div class="hand"></div>
				<div class="bottom">
					<div class="status"></div>
					<div class="loading"></div>
				</div>
			</div>
		</div>
	</div>
	</body>
</html>