<!DOCTYPE html>
<html>
	<head>
		<script src="/javascripts/lib/Loader.js"></script>
		<script src="/javascripts/status/admin.js"></script>
		<style>
		.pacDefinedAuction,
		.vpPayTable {
			margin: 10px;
			border: 1px solid gray;
			background: #FAFAFA;
			padding: 10px;
		}

		.pacDefinedAuction.template,
		.vpPayTable.template {
			display: none;
		}

		.vpPayTable.current {
			background: #FAFFFA;
		}

		.field {
			font-size: 90%;
			display: table;
			width: 100%;
		}
		.field .label {
			display: table-cell;
			width: 200px;
			padding: 10px;
			vertical-align: top;
		}
		.field .value {
			display: table-cell;
			padding: 10px;
		}
		.note {
			color: gray; 
			font-size: 80%;
			margin: 4px 0px;
		}
		button {
			margin-top: 4px;
			padding: 2px 15px;
			font-size: 100%;
			background: green;
			color: white;
			cursor: pointer;
		}
		.line {
			padding: 2px;
		}
		.line > span:first-child {
			display: inline-block;
			width: 130px;
		}

		.itemAction {
			display: inline-block;
			width: 400px;
			border: 1px dotted gray;
			background: white;
			padding: 5px;
			margin: 5px;
			text-align: center;
		}
		.definedIndex {
			text-align: center;
			padding: 3px 8px;
			margin-top: -10px;
			margin-bottom: 10px;
			border-bottom: 1px dotted gray;
		}
		.head .refresh {
			font-size: 70%;
			letter-spacing: initial;
			color: blue;
			cursor: pointer;
		}
		.status .TxStatus {
			margin-top: 10px;
		}
		</style>
	</head>
	<body><div id="Content">
		<div class="section pageTitle">
			Admin Page
		</div>
		<div style="text-align: center;">
			<div style="display: inline-block; padding: 4px 8px; background: #EEE; border-radius: 5px">
				Admin Account: <span id="TrAdmin"></span>
			</div>
		</div>
		<div style="margin: 0px 20px">
		
			<div class="subsection">
				<div class="head">Treasury <span class="tr refresh">refresh</span></div>
				<div class="body">
					<h3>Daily Fund Limit</h3>
					<div class="field">
						<div class="label">
							Daily Limit Last Changed:
						</div>
						<div class="value">
						 	<span id="TrDailyFundLimitLastChanged"></span>
						</div>
					</div>
					<div class="field">
						<div class="label">
							Today:
						</div>
						<div class="value">
							<span id="TrToday"></span>
						</div>
					</div>
					<div class="field">
						<div class="label">
							Daily Fund Limit:
							<div class="note">
								Only changable once per day, and must be within 5% of old value.
							</div>
						</div>
						<div class="value dailyFundLimit">
							<input type=text id="TrDailyFundLimit" placeholder="eth"> Eth
							<button id="TrChangeDailyFundLimit">Save Changes</button>
						</div>
					</div>

					<h3>Funding</h3>
					<div class="field">
						<div class="label">
							Fund:
							<div class="note">
								This allows anyone to send Ether to Treasury, as revenue. This is used pre-ICO so PennyEther can fund games.
							</div>
						</div>
						<div class="value dailyFundLimit">
							<input type=text id="TrFundAmt" placeholder="eth"> Eth
							<button id="TrFund">Send Ether</button>
						</div>
					</div>					
				</div>
			</div>

			<div class="subsection">
				<div class="head">Main Controller <span class="mc refresh">refresh</span></div>
				<div class="body">
					<h3>Penny Auction Rewards</h3>
					<div class="field">
						<div class="label">Start Reward</div>
						<div class="value">
							<input type=text id="McPaStartReward" placeholder="eth"> Eth
						</div>
					</div>
					<div class="field">
						<div class="label">End Reward</div>
						<div class="value">
							<input type=text id="McPaEndReward" placeholder="eth"> Eth
						</div>
					</div>
					<div class="field">
						<div class="label">
							Fee Reward Denom
							<div class="note">
								Reciprical, eg: 1000 = 1/1000 = .1%
							</div>
						</div>
						<div class="value">
							<input type=text id="McPaRewardDenom" placeholder="inverse number">
						</div>
					</div>
					<div class="field">
						<div class="label">Change:</div>
						<div class="value changePaRewards">
							<button id="McChangePaRewards">Save Changes</button>
						</div>
					</div>
				</div>
			</div>

			<div class="subsection">
				<div class="head">Penny Auction Controller <span class="pac refresh">refresh</span></div>
				<div class="body">
					<h3>Defined Auctions</h3>
					<div id="PacDefinedAuctions"></div>
					<div class="pacDefinedAuction template">
						<div class="definedIndex">
							Index: <span class="index">loading...</span>
						</div>
						<div class="values">
							<div class="line">
								<span>Enabled:</span>
								<span class="enabled"></span>
							</div>
							<div class="line">
								<span>Auction:</span>
								<span class="auction"></span>
							</div>
							<div class="line">
								<span>Summary:</span>
								<input type=text class="summary">
							</div>
							<div class="line">
								<span>InitialPrize:</span>
								<input type=text class="initialPrize"> Eth
							</div>
							<div class="line">
								<span>bidPrice:</span>
								<input type=text class="bidPrice"> Eth
							</div>
							<div class="line">
								<span>bidIncr:</span>
								<input type=text class="bidIncr"> Eth
							</div>
							<div class="line">
								<span>bidAddBlocks:</span>
								<input type=text class="bidAddBlocks">
							</div>
							<div class="line">
								<span>initialBlocks:</span>
								<input type=text class="initialBlocks">
							</div>
						</div>
						<div class='itemAction'>
							<button class="change">Change</button>
						</div>
						<div class='itemAction'>
							<button class="enable">Enable</button>
						</div>
						<div class='itemAction'>
							<button class="disable">Disable</button>
						</div>
					</div>
				</div>
			</div>

			<div class="subsection">
				<div class="head">InstaDice <span class="dice refresh">refresh</span></div>
				<div class="body">
					<h3>Status</h3>
					<div class="field">
						<div class="label">Balance</div>
						<div class="value">
							<span id="DiceBalance"></span>
						</div>
					</div>
					<div class="field">
						<div class="label">
							<span class="tipLeft" title="The amount of Ether funded to InstaDice. Any balance exceeding this is considered profit, and can be sent to Treasury.">Funding:</span>
						</div>
						<div class="value">
							<span id="DiceFunding"></span>
						</div>
					</div>
					<div class="field">
						<div class="label">
							<span class="tipLeft" title="The amount of ETH held in reserve. Cannot be withdrawn for profits or to refund funding.">Collateral: </span>
						</div>
						<div class="value">
							<div id="DiceCollateral"></div>
						</div>
					</div>
					<div class="field">
						<div class="label">
							<span class="tipLeft" title="The amount of ETH available to be sent as profits; any balance that exceeds the sum of funding and collateral.">Profits: </span>
						</div>
						<div class="value">
							<div id="DiceProfits"></div>
						</div>
					</div>
					<div class="field">
						<div class="label">
							<span class="tipLeft" title="Total number of rolls.">Total Rolls:</span>
						</div>
						<div class="value">
							<span id="DiceNumRolls"></span>
						</div>
					</div>
					
					<h3>Funding</h3>
					<div class="field">
						<div class="label">
							<span class="tipLeft" title="Sends any amount over the funding to Treasury">Send Profits:</span>
							<div class="note">callable by anyone</div>
						</div>
						<div class="value">
							<button id="btnDiceSendProfits">Send Profits</button>
						</div>
					</div>
					<div class="field">
						<div class="label">
							<span class="tipLeft" title="Removes funding and sends it to the caller, provided there is sufficient balance.">Remove Funding: </span>
							<div class="note">callable by anyone</div>
						</div>
						<div class="value">
							<input type=text id="DiceRemoveFunding" placeholder="eth"> ETH
							<br>
							<button id="btnDiceRemoveFunding">Remove Funding</button>
						</div>
					</div>
					<div class="field">
						<div class="label">
							<span class="tipLeft" title="Adds funding to the contract. Can be removed later by the same user.">Add Funding: </span>
							<div class="note">callable by anyone</div>
						</div>
						<div class="value">
							<input type=text id="DiceAddFunding" placeholder="eth"> ETH
							<br>
							<button id="btnDiceAddFunding">Add Funding</button>
						</div>
					</div>

					<h3>Finalize Rolls</h3>
					<div class="field">
						<div class="label">
							<span class="tipLeft" title="Unfinalized rolls are rolls that have been wagered but have not yet been paid if won. Each new roll will finalize at least one previous roll, so this number should remain quite low.">
								Unfinalized Rolls:
							</span>
						</div>
						<div class="value">
							<span id="DiceNumUnfinalized"></span>
						</div>
					</div>
					<div class="field">
						<div class="label">
							<span class="tipLeft" title="Unfinalized rolls will eventually be resolved as new rolls occur. However, it's fine to resolve them manually to pay out any pending wins.">Finalize Rolls:</span>
							<div class="note">callable by anyone</div>
						</div>
						<div class="value">
							<input type=text id="DiceFinalizeRolls" placeholder="number of rolls" value=100> rolls.
							<br>
							<button id="btnDiceFinalizeMany">Finalize Rolls</button>
						</div>
					</div>
					<div class="field">
						<div class="label">
							<span class="tipLeft" title="Finalizes the latest roll.">Finalize Last Roll:</span>
							<div class="note">callable by anyone</div>
						</div>
						<div class="value">
							<button id="btnDiceFinalizeLatest">Finalize Lastest Roll</button>
						</div>
					</div>

					<h3>Settings</h3>
					<div class="field">
						<div class="label">
							<span>Fee Bips (100 = 1%):</span>
						</div>
						<div class="value">
							<input type=text id="DiceFeeBips" placeholder="bips">
						</div>
					</div>
					<div class="field">
						<div class="label">
							<span>Min Bet:</span>
						</div>
						<div class="value">
							<input type=text id="DiceMinBet" placeholder="eth"> Eth
						</div>
					</div>
					<div class="field">
						<div class="label">
							<span>Max Bet:</span>
						</div>
						<div class="value">
							<input type=text id="DiceMaxBet" placeholder="eth"> Eth
						</div>
					</div>
					<div class="field">
						<div class="label">
							<span>Min Number:</span>
						</div>
						<div class="value">
							<input type=text id="DiceMinNumber" placeholder="1-100">
						</div>
					</div>
					<div class="field">
						<div class="label">
							<span>Max Number:</span>
						</div>
						<div class="value">
							<input type=text id="DiceMaxNumber" placeholder="1-100">
						</div>
					</div>
					<div class="field">
						<div class="label"></div>
						<div class="value">
							<button id="btnDiceChangeSettings">Save Changes</button>
						</div>
					</div>
				</div>
			</div>

			<a id="VideoPoker"></a>
			<div class="subsection">
				<div class="head">Video Poker <span class="vp refresh">refresh</span></div>
				<div class="body">
					<h3>Status</h3>
					<div class="field">
						<div class="label">Balance:</div>
						<div class="value">
							<span id="VpBalance"></span>
						</div>
					</div>
					<div class="field">
						<div class="label">
							<span class="tipLeft" title="The amount of Ether funded to Video Poker. Any balance exceeding this is considered profit, and can be sent to Treasury.">Funding:</span>
						</div>
						<div class="value">
							<span id="VpFunding"></span>
						</div>
					</div>
					<div class="field">
						<div class="label">
							<span class="tipLeft" title="The amount of ETH held in reserve. Cannot be withdrawn for profits or to refund funding.">Collateral: </span>
						</div>
						<div class="value">
							<div id="VpCollateral"></div>
						</div>
					</div>
					<div class="field">
						<div class="label">
							<span class="tipLeft" title="The amount of ETH available to be sent as profits; any balance that exceeds the sum of funding and collateral.">Profits: </span>
						</div>
						<div class="value">
							<div id="VpProfits"></div>
						</div>
					</div>
					<div class="field">
						<div class="label">
							<span class="tipLeft" title="Total number of rolls.">Total Games:</span>
						</div>
						<div class="value">
							<span id="VpNumGames"></span>
						</div>
					</div>
					
					<h3>Funding</h3>
					<div class="field">
						<div class="label">
							<span class="tipLeft" title="Sends any amount over the funding to Treasury">Send Profits:</span>
							<div class="note">callable by anyone</div>
						</div>
						<div class="value">
							<button id="btnVpSendProfits">Send Profits</button>
						</div>
					</div>
					<div class="field">
						<div class="label">
							<span class="tipLeft" title="Removes funding and sends it to caller, provided there is sufficient balance.">Remove Funding: </span>
							<div class="note">callable by anyone</div>
						</div>
						<div class="value">
							<input type=text id="VpRemoveFunding" placeholder="eth"> ETH
							<br>
							<button id="btnVpRemoveFunding">Remove Funding</button>
						</div>
					</div>
					<div class="field">
						<div class="label">
							<span class="tipLeft" title="Increases funding, and allows caller to remove funding later.">Add Funding: </span>
							<div class="note">callable by anyone</div>
						</div>
						<div class="value">
							<input type=text id="VpAddFunding" placeholder="eth"> ETH
							<br>
							<button id="btnVpAddFunding">Add Funding</button>
						</div>
					</div>

					<h3>Settings</h3>
					<div class="field">
						<div class="label">
							<span>Min Bet:</span>
						</div>
						<div class="value">
							<input type=text id="VpMinBet" placeholder="eth"> Eth
						</div>
					</div>
					<div class="field">
						<div class="label">
							<span>Max Bet:</span>
						</div>
						<div class="value">
							<input type=text id="VpMaxBet" placeholder="eth"> Eth
						</div>
					</div>
					<div class="field">
						<div class="label">
							<span>CurPayTableId:</span>
						</div>
						<div class="value">
							<input type=text id="VpCurPayTableId" placeholder="PayTable Index">
						</div>
					</div>
					<div class="field">
						<div class="label"></div>
						<div class="value">
							<button id="btnVpChangeSettings">Save Changes</button>
						</div>
					</div>

					<h3>PayTables</h3>
					<div id="VpPayTables"></div>
					<div class="vpPayTable template">
							<div class="definedIndex">
								Index: <span class="index">loading...</span>
							</div>
							<div class="values">
								<div class="line">
									<span>Royal Flush:</span>
									<input type=text class="rf"> x
								</div>
								<div class="line">
									<span>Straight Flush:</span>
									<input type=text class="sf"> x
								</div>
								<div class="line">
									<span>Four of a Kind:</span>
									<input type=text class="foak"> x
								</div>
								<div class="line">
									<span>Full House:</span>
									<input type=text class="fh"> x
								</div>
								<div class="line">
									<span>Flush:</span>
									<input type=text class="fl"> x
								</div>
								<div class="line">
									<span>Straight:</span>
									<input type=text class="st"> x
								</div>
								<div class="line">
									<span>Three of a Kind:</span>
									<input type=text class="toak"> x
								</div>
								<div class="line">
									<span>Two Pair:</span>
									<input type=text class="tp"> x
								</div>
								<div class="line">
									<span>Jacks or Better:</span>
									<input type=text class="jb"> x
								</div>
							</div>
							<div class='itemAction'>
								<button class="save">Save</button>
							</div>
						</div>
				</div>
			</div>
		</div>
	</div></body>
</html>