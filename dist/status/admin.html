<!DOCTYPE html>
<html>
	<head>
		<script src="/javascripts/lib/Loader.js"></script>
		<script src="/javascripts/status/admin.js"></script>
		<style>
		.pacDefinedAuction {
			margin: 10px;
			border: 1px solid gray;
			background: #FAFAFA;
			padding: 10px;
		}
		</style>
	</head>
	<body><div id="Content">
		<div class="section pageTitle">
			Admin Page
		</div>
		<div class="section">
			<div class="head">Treasury</div>
			<div class="body">
				<div>
					Admin: <span id="TrAdmin"></span>
				</div>
				<h4>Daily Fund Limit</h4>
				<div>
					Daily Limit Last Changed: <span id="TrDailyFundLimitLastChanged"></span>
					<br>
					Today is: <span id="TrToday"></span>
				</div>
				<div>
					<span>Daily Fund Limit (ETH)</span>
					<input type=text id="TrDailyFundLimit" placeholder="eth">
					<span style='color: gray'>
						Only changable once per day, and must be within 5% of old value.
					</span>
					<br>
					<button id="TrChangeDailyFundLimit">SET DAILY LIMIT</button>
				</div>
			</div>
		</div>

		<div class="section">
			<div class="head">Main Controller</div>
			<div class="body">
				<div>
					Admin: <span id="McAdmin"></span>
				</div>
				<h4>Penny Auction Rewards</h4>
				<div>
					<div>
						<span>Start Reward (ETH)</span>
						<input type=text id="McPaStartReward" placeholder="eth">
					</div>
					<div>
						<span>End Reward (ETH)</span>
						<input type=text id="McPaEndReward" placeholder="eth">
					</div>
					<div>
						<span>Reward Denom</span>
						<input type=text id="McPaRewardDenom" placeholder="inverse number">
						Min Value is 100 (eg, 1%)
					</div>
					<button id="McChangePaRewards">SET REWARDS</button>
				</div>
			</div>
		</div>

		<div class="section">
			<div class="head">Penny Auction Controller</div>
			<div class="body">
				<div>
					Admin: <span id="PacAdmin"></span>
				</div>
				<h4>Defined Auctions</h4>
				<div>
					<b>Num Defined:</b> <span id="PacNumDefinedAuctions"></span>
				</div>
				<div class="pacDefinedAuctionTemplate" style="display: none;">
					Index: <span class="index">loading...</span>
					<div style="display: none;" class="values">
						<div>
							Enabled: <span class="enabled"></span>
							<button class="enable">enable</button>
							<button class="disable">disable</button>
						</div>
						Auction: <span class="auction"></span><br>
						Summary: <input type=text class="summary"><br>
						InitialPrize (ETH): <input type=text class="initialPrize"><br>
						bidPrice (ETH): <input type=text class="bidPrice"><br>
						bidIncr: <input type=text class="bidIncr"><br>
						bidAddBlocks: <input type=text class="bidAddBlocks"><br>
						initialBlocks: <input type=text class="initialBlocks"><br>
					</div>
					<button class="change">UPDATE</button>
				</div>
				<div id="PacDefinedAuctions"></div>
			</div>
		</div>

		<div class="section">
			<div class="head">InstaDice</div>
			<div class="body">
				<div>
					Admin: <span id="DiceAdmin"></span>
				</div>
				<h4>Status</h4>
				<div>
					<div>
						<span>Balance:</span>
						<span id="DiceBalance"></span>
					</div>
					<div>
						<span class="tipLeft" title="The amount of Ether available to be used for potential payout. This is decremented any time a roll is created, and incremented when the roll is resolved (if it lost).">Bankroll:</span>
						<span id="DiceBankroll"></span>
					</div>
					<div>
						<span class="tipLeft" title="The amount of Ether funded to InstaDice. Any bankroll exceeding this is considered profit, and can be sent to Treasury.">Funding:</span>
						<span id="DiceFunding"></span>
					</div>
					<div>
						<span class="tipLeft" title="Unresolved rolls happen when more than one bid occurs on the same block. When this happens, the bankroll is tied up until the roll is resolved. Note: there is always one unresolved roll: the last one!">Unresolved Rolls:</span>
						<span id="DiceNumUnresolved"></span>
					</div>
				</div>
				<div>
					<h4>Financials</h4>
					<div>
						<span class="tipLeft" title="Sends any amount over the funding to Treasury">Send Profits: </span>
						<span id="DiceSendProfits" placeholder="eth"></span> <button id="btnDiceSendProfits">Send Profits</button> (admin only)
					</div>
					<div>
						<span class="tipLeft" title="Removes funding and sends it to treasury.">Remove Funding: </span>
						<input type=text id="DiceRemoveFunding" placeholder="eth"> ETH <button id="btnDiceRemoveFunding">Remove Funding</button> (admin only)
					</div>
					<div>
						<span class="tipLeft" title="Increases funding (and bankroll)">Add Funding: </span>
						<input type=text id="DiceAddFunding" placeholder="eth"> ETH <button id="btnDiceAddFunding">Add Funding</button> (anybody)
					</div>
					<div>
						<span class="tipLeft" title="Unresolved rolls will still hold onto some bankroll. Resolving a roll will pay the winner or increase the bankroll.">Resolve Unresolved Rolls:</span>
						<input type=text id="DiceResolveRolls" placeholder="number of rolls" value=100> rolls. <button id="btnDiceResolveMany">Resolve Rolls</button> (anybody)
					</div>
					<div>
						<span class="tipLeft" title="Resolves the latest roll.">Resolve Last Roll:</span>
						<button id="btnDiceResolveLatest">Resolve Last Roll</button> (anybody)
					</div>
				</div>
				<h4>Settings</h4>
				<div>
					<div>
						<span>Fee Bips (100 = 1%):</span>
						<input type=text id="DiceFeeBips" placeholder="bips">
					</div>
					<div>
						<span>Min Bet (ETH):</span>
						<input type=text id="DiceMinBet" placeholder="eth">
					</div>
					<div>
						<span>Max Bet (ETH):</span>
						<input type=text id="DiceMaxBet" placeholder="eth">
					</div>
					<div>
						<span>Min Number:</span>
						<input type=text id="DiceMinNumber" placeholder="1-100">
					</div>
					<div>
						<span>Max Number:</span>
						<input type=text id="DiceMaxNumber" placeholder="1-100">
					</div>
					<button id="DiceChangeSettings">CHANGE SETTINGS</button>
				</div>
			</div>
		</div>
	</div></body>
</html>